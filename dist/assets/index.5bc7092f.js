var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&r(e,a,t[a]);if(s)for(var a of s(t))n.call(t,a)&&r(e,a,t[a]);return e},l=(e,s)=>t(e,a(s)),d=(e,t,a)=>(r(e,"symbol"!=typeof t?t+"":t,a),a);import{a as h,m as c,r as p,R as u,j as g,b as m,I as y,U as S,L as b,c as D,B as f,C as x,d as v,e as C,f as A,F as T,g as P,E as L,S as M,h as I,i as w,k as E,l as k,n as N,o as R,p as O,M as U,q as F,s as K,t as z,T as B,u as j,v as _,P as q,D as $,w as V,x as W,y as H,z as G,A as Y,G as J,H as Z,J as X,K as Q,N as ee,O as te,Q as ae,V as se,W as ie,X as ne,Y as re,Z as oe,_ as le,$ as de,a0 as he,a1 as ce,a2 as pe,a3 as ue,a4 as ge}from"./vendor.1f7ae801.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const me={getItem:e=>"",setItem(e,t){}},ye=window.localStorage?window.localStorage:me,Se=window.sessionStorage?window.sessionStorage:me,be="ADMIN_AUTH_KEY";const De=new class{getAuthKeyFromStorage(){const e=ye.getItem(be);return e||(Se.getItem(be)||"")}clearAuthKeys(){ye.setItem(be,""),Se.setItem(be,"")}setAuthKeyInSessionStorage(e){Se.setItem(be,e),ye.setItem(be,"")}setAuthKeyInLocalStorage(e){ye.setItem(be,e),Se.setItem(be,"")}setSiderCollapsedStateInLocalStorage(e){ye.setItem("ADMIN_SIDER_COLLAPSED_STATE",JSON.stringify(e))}setAdmin(e){ye.setItem("ADMIN_ADMIN",JSON.stringify(e))}isAdmin(){const e=ye.getItem("ADMIN_ADMIN");return e&&JSON.parse(e)}getSiderCollapsedStateFromLocalStorage(){const e=ye.getItem("ADMIN_SIDER_COLLAPSED_STATE");return e&&JSON.parse(e)}setDarkModeInLocalStorage(e){ye.setItem("ADMIN_DARK_MODE",JSON.stringify(e))}getDarkModeFromLocalStorage(){const e=ye.getItem("ADMIN_DARK_MODE");return e?JSON.parse(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}};class fe{constructor(e,t){d(this,"GET","GET"),d(this,"POST","POST"),d(this,"DELETE","DELETE"),d(this,"UPDATE","UPDATE"),d(this,"PUT","PUT"),d(this,"PATCH","PATCH"),d(this,"isDestroyed",!1),d(this,"authToken",""),this.baseUrl=e,this.onAuthFailure=t}createHeaders(){let e={};return this.authToken&&(e["X-Access-Token"]=this.authToken),e}setAuthToken(e){this.authToken=e}destroy(){this.isDestroyed=!0}fetch(e,t,a){const s=this;return function(){return Promise.resolve().then((function(){return Promise.resolve()})).then((function(){return s.fetchInternal(e,t,a)})).then((function(e){return e.data})).catch((function(e){return new Promise((function(t,a){a(new Error(e.response?e.response.data.message:e.message))}))}))}}fetchInternal(e,t,a){if(e===this.GET)return this.getReq(t,a);if(e===this.POST)return this.postReq(t,a);if(e===this.PUT)return this.putReq(t,a);if(e===this.PATCH)return this.patchReq(t,a);if(e===this.DELETE)return this.deleteReq(t,a);throw new Error(`Unknown method: ${e}`)}getReq(e,t){return h.get(this.baseUrl+e,{params:t,headers:this.createHeaders()})}postReq(e,t){return h.post(this.baseUrl+e,t,{headers:this.createHeaders()})}putReq(e,t){return h.put(this.baseUrl+e,t,{headers:this.createHeaders()})}deleteReq(e,t){return h.delete(this.baseUrl+e,{params:t,headers:this.createHeaders()})}patchReq(e,t){return h.patch(this.baseUrl+e,t,{headers:this.createHeaders()})}}const xe=class{constructor(){d(this,"http");const e=this;this.http=new fe(this.getApiBaseUrl(),(function(){return xe.lastKnownPassword?e.getAuthToken(xe.lastKnownUsername,xe.lastKnownPassword):Promise.reject(new Error("No saved password. Ignore if initial call."))})),this.http.setAuthToken(xe.authToken)}getApiBaseUrl(){return"https://kfs-api.igcfashion.co/api/v1"}static getApiUrl(){return"https://kfs-api.igcfashion.co/api/v1"}destroy(){this.http.destroy()}static getAuthTokenString(){return xe.authToken}setAuthToken(e){xe.authToken=e,e||De.clearAuthKeys(),this.http.setAuthToken(e)}static isLoggedIn(){return!!xe.authToken}getAuthToken(e,t){const a=this.http;xe.lastKnownPassword=t,xe.lastKnownUsername=e;const s=this;return Promise.resolve().then(a.fetch(a.POST,"/auth/login",{password:t,username:e})).then((function(e){if(!e.token)return Promise.reject(e);s.setAuthToken(e.token),De.setAdmin(e.isAdmin||!1)})).catch((function(e){return Promise.reject(e)}))}updatePathData(e,t){const a=this.http;return Promise.resolve().then(a.fetch(a.PATCH,e,t))}deletePathData(e,t){const a=this.http;return Promise.resolve().then(a.fetch(a.DELETE,e,t))}changePass(e,t,a){const s=this.http;return Promise.resolve().then(s.fetch(s.PATCH,"/me/updatePassword",{currentPassword:e,password:t,passwordConfirm:a}))}postPathData(e,t){const a=this.http;return Promise.resolve().then(a.fetch(a.POST,e,t))}getPathData(e,t){const a=this.http;return Promise.resolve().then(a.fetch(a.GET,e,o({},t)))}};let ve=xe;d(ve,"lastKnownPassword",""),d(ve,"lastKnownUsername",""),d(ve,"authToken",De.getAuthKeyFromStorage()||"");var Ce={copyObject:e=>JSON.parse(JSON.stringify(e)),generateUuidV4:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),deleteAllCookies(){let e=document.cookie.split(";");for(let t=0;t<e.length;t++){let a=e[t],s=a.indexOf("="),i=s>-1?a.substr(0,s):a;document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},getAnsiColorRegex(){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,"g")},isMobile:()=>window.innerWidth<768,isSafari(){let e=!1;try{e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)}catch(t){console.log(t)}return e},getDelayedPromise:e=>e?new Promise(((t,a)=>{setTimeout((()=>{t()}),e)})):Promise.resolve(),createRandomStringHex(e){let t="";const a="0123456789abcdef",s=a.length;for(let i=0;i<e;i++)t+=a.charAt(Math.floor(Math.random()*s));return t},convertHexStringToUtf8:e=>e?decodeURIComponent(e.substring(8,e.length).replace(/\s+/g,"").replace(/[0-9a-f]{2}/g,"%$&")):"",mergeObjects(e,t){const a=e||{};return t=t||{},Object.keys(t).forEach((e=>{!a[e]||Array.isArray(a[e])||Array.isArray(t[e])?a[e]=t[e]:"object"==typeof t[e]&&"object"==typeof a[e]?a[e]=this.mergeObjects(a[e],t[e]):a[e]=t[e]})),a}};class Ae{static toast(e){c.error(e.message||"Something bad happened.")}static createCatcher(e){return function(t){Ae.toast(t),e&&e()}}}class Te extends p.exports.Component{constructor(e){super(e),d(this,"willUnmountSoon"),d(this,"apiManager"),this.willUnmountSoon=!1,this.apiManager=new ve}componentWillUnmount(){this.willUnmountSoon=!0,this.apiManager.destroy()}deletePathData(e){return new Promise((t=>{this.apiManager.deletePathData(e.path,e.query).then((e=>{t(e)})).catch((e=>{c.error(e.message)}))}))}updatePathData(e){return new Promise(((t,a)=>{this.apiManager.updatePathData(e.path,e.data).then((function(e){t(e)})).catch((e=>{a(e)}))}))}postPathData(e){return new Promise(((t,a)=>{this.apiManager.postPathData(e.path,e.data).then((e=>{t(e)})).catch((e=>{c.error(e.message),a(e)}))}))}getPathData(e){return new Promise(((t,a)=>{this.apiManager.getPathData(e.path,e.query).then((function(e){t(e)})).catch(Ae.createCatcher()).then(a)}))}}class Pe extends Te{constructor(e){super(e),this.state={loginOption:1}}componentDidMount(){super.componentDidMount&&super.componentDidMount(),Ce.deleteAllCookies()}onLoginRequested(e,t,a){const s=this;this.apiManager.getAuthToken(e,t).then((function(){2===s.state.loginOption?De.setAuthKeyInSessionStorage(ve.getAuthTokenString()):3===s.state.loginOption&&De.setAuthKeyInLocalStorage(ve.getAuthTokenString()),s.props.history.push("/"),a()})).catch((e=>{a(),c.error(e.message)}))}render(){const e=this;return ve.isLoggedIn()?m(C,{to:"/"}):m("div",{children:m("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"},children:m(A,{title:"Log in",style:{width:350},children:m(Me,{onLoginRequested:(t,a,s,i)=>{e.setState({loginOption:s}),e.onLoginRequested(t,a,i)}})})})})}}const Le={display:"block",height:"30px",lineHeight:"30px"};class Me extends u.Component{constructor(e){super(e),d(this,"handleSubmit",(()=>{this.setState({loading:!0},(()=>{this.props.onLoginRequested(this.state.username,this.state.passwordEntered,this.state.loginOption,(()=>setTimeout((()=>{this.setState({loading:!1})}),500)))}))})),this.state={loginOption:2,passwordEntered:"",username:"",loading:!1}}render(){const e=this;return g("div",{children:[m(y,{style:{marginBottom:20},size:"large",prefix:m(S,{style:{color:"rgba(0,0,0,.25)"}}),onChange:t=>{e.setState({username:`${t.target.value}`})},placeholder:"Username"}),m(y.Password,{size:"large",onKeyDown:t=>{13===t.keyCode&&e.handleSubmit()},prefix:m(b,{style:{color:"rgba(0,0,0,.25)"}}),onChange:t=>{e.setState({passwordEntered:`${t.target.value}`})},placeholder:"Password"}),m("div",{style:{marginTop:20,marginBottom:20},children:m(D,{justify:"end",children:m(f,{type:"primary",htmlType:"submit",loading:e.state.loading,onClick:()=>{e.handleSubmit()},children:e.state.loading?"Please wait...":"Login"})})}),m(x,{children:m(x.Panel,{header:"Remember Me",children:g(v.Group,{onChange:t=>{e.setState({loginOption:t.target.value})},value:e.state.loginOption,children:[m(v,{style:Le,value:1,children:"No session persistence"}),m(v,{style:Le,value:2,children:"Use sessionStorage"}),m(v,{style:Le,value:3,children:"Use localStorage"})]})},"1")})]})}}function Ie(){return{type:"ROOT_KEY_CHANGED",payload:{}}}class we extends Te{constructor(e){super(e),this.state={isLoading:!1,stats:{},collections:0,profits:0,monthlyExpenses:0,monthlyTransactions:0,monthlyProfits:0,dailyExpenses:0,dailyTransactions:0,dailyProfits:0}}getOptions(e){return{color:"#1b8ad3",tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}],yAxis:[{type:"value"}],series:[{type:"bar",barWidth:"60%",data:e}]}}getWeeklyOptions(e){return{color:"#1b8ad3",tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thur","Fri","Sat","Sun"]}],yAxis:[{type:"value"}],series:[{type:"bar",barWidth:"60%",data:e}]}}fetchStats(){this.getPathData({path:"/statistics/monthly"}).then((e=>{console.log(e,"stats month"),this.setState({stats:e}),this.fetchCollections()})).catch((()=>{}))}fetchCollections(){this.getPathData({path:"/statistics"}).then((e=>{console.log(e,"stats"),this.setState({monthlyExpenses:e.monthlyExpenses[0].amount,monthlyTransactions:e.monthlyTransactions[0].amount,monthlyProfits:e.monthlyProfits[0].profit,dailyTransactions:e.dailyTransactions[0].amount,dailyExpenses:e.dailyExpenses[0].amount,dailyProfits:e.dailyProfits[0].profit})})).catch((e=>{console.log(e)}))}componentDidMount(){this.fetchStats()}render(){return g(T,{children:[g(D,{justify:"center",gutter:20,children:[m(P,{style:{marginBottom:20},lg:{span:10},xs:{span:23},children:m(A,{children:m(L,{option:l(o({},this.getWeeklyOptions(this.state.stats.dailyTransactions)),{title:{text:"Daily"}}),notMerge:!0,lazyUpdate:!0,style:{height:"220px",width:"100%"}})})}),m(P,{style:{marginBottom:20},lg:{span:10},xs:{span:23},children:m(A,{children:m(L,{option:l(o({},this.getOptions(this.state.stats.transactions)),{title:{text:"Monthly"}}),notMerge:!0,lazyUpdate:!0,style:{height:"220px",width:"100%"}})})})]}),g(D,{justify:"center",gutter:20,title:"Daily",children:[m(P,{children:m(A,{children:m(M,{title:"Collections",value:`${this.state.dailyTransactions}`})})}),m(P,{children:m(A,{children:m(M,{title:"Profits",value:`${Number(this.state.dailyProfits)}`,precision:2})})}),m(P,{children:m(A,{children:m(M,{title:"Expenses",value:`${Number(this.state.dailyExpenses)}`,precision:2})})})]}),m("br",{}),g(D,{justify:"center",gutter:20,title:"Monthly",children:[m(P,{children:m(A,{children:m(M,{title:"Collections",value:`${this.state.monthlyTransactions}`,precision:2})})}),m(P,{children:m(A,{children:m(M,{title:"Profits",value:`${Number(this.state.monthlyProfits)}`,precision:2})})}),m(P,{children:m(A,{children:m(M,{title:"Expenses",value:`${Number(this.state.monthlyExpenses)}`,precision:2})})})]})]})}}class Ee extends p.exports.Component{handleClick(e){e.preventDefault(),this.props.onLinkClicked&&this.props.onLinkClicked()}render(){return m("a",{onClick:e=>this.handleClick(e),children:this.props.children})}}const ke=new class{loadTheme(e){return Promise.resolve()}};class Ne extends p.exports.Component{constructor(e){super(e),this.state={isChecked:De.getDarkModeFromLocalStorage()}}render(){return m(I,{checkedChildren:m(w,{}),unCheckedChildren:m(E,{}),checked:this.state.isChecked,onChange:e=>{De.setDarkModeInLocalStorage(e),ke.loadTheme(e),this.setState({isChecked:e})}})}}class Re extends p.exports.Component{componentDidMount(){ve.isLoggedIn()?this.props.history.push("/dashboard"):this.props.history.push("/login")}render(){return m("div",{})}}var Oe=k((function(e){return{}}),void 0)(Re);class Ue extends p.exports.Component{render(){return m("div",{style:{width:"100%",textAlign:"center"},children:m(N,{style:{marginTop:60,marginBottom:60,width:"100%"},indicator:m(R,{style:{fontSize:32},spin:!0}),size:"large"})})}}class Fe extends p.exports.Component{render(){return g("div",{style:{textAlign:"center",padding:36},children:[m("p",{children:this.props.message?this.props.message:"An error occurred. Please try again."}),m(D,{justify:"center",children:m(f,{type:"primary",onClick:()=>this.props.reloadCallBack(),children:"Reload"})})]})}}var Ke=k(void 0,{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={isLoading:!1,isModalVisible:!1,data:O(e.data,{voda:!1})}}setData(e,t){this.setState({data:O(this.state.data,{[`${e}`]:t})})}add(){this.setState({isLoading:!0},(()=>{this[this.props.data?"updatePathData":"postPathData"]({path:"/transactions",data:O(this.state.data)}).then((e=>{console.log(e,"transactions"),this.props.emitRootKeyChanged()})).catch((e=>{console.log(e),c.success("this is an error"),this.setState({isLoading:!1})}))}))}render(){return g(T,{children:[m(U,{title:(this.props.data?"UPDATE":"NEW")+" TRANSACTION",visible:this.state.isModalVisible,onOk:this.add.bind(this),onCancel:()=>this.setState({isModalVisible:!1}),okButtonProps:{disabled:this.state.isLoading},cancelButtonProps:{disabled:this.state.isLoading},okText:this.props.data?"UPDATE":"ADD",children:this.state.isLoading?m(Ue,{}):g(F,{layout:"vertical",children:[m(F.Item,{label:"TRANSACTION ID",required:!this.props.data,children:m(y,{type:"text",placeholder:"Transaction ID",name:"amount",size:"large",value:this.state.data.transactionId,onChange:e=>this.setData("transactionId",e.target.value),autoFocus:!0})}),m(F.Item,{label:"AMOUNT",required:!this.props.data,children:m(y,{type:"number",placeholder:"Amount",name:"amount",size:"large",value:this.state.data.amount,onChange:e=>this.setData("amount",e.target.value)})}),m(F.Item,{label:"VODA",children:m(K,{onChange:e=>{"Yes"==e&&this.setData("voda",!0)},value:this.state.data.roles,size:"large",placeholder:"Is this transaction from bunya?",children:["Yes","No"].map(((e,t)=>m(K.Option,{value:e,children:e},t)))})})]})}),u.cloneElement(this.props.children,{onClick:()=>this.setState({isModalVisible:!0})})]})}});var ze=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:void 0,isLoading:!1,confirmOrder:!1,transactions:void 0}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.type)}reFetchData(e){this.setState({isLoading:e},(()=>{this.getPathData({path:"/browse/transactions"}).then((({items:e})=>{console.log(e,"transactions"),e.filter((e=>"successful"===e.payment)),e.filter((e=>"successful"!==e.payment)),this.setState({isLoading:!1,apiData:e,transactions:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData(!0)}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const e=m(y,{placeholder:"Search",type:"text",onChange:e=>this.setState({searchTerm:(e.target.value||"").trim()})});return m("div",{children:m(D,{justify:"center",children:m(P,{xs:{span:23},lg:{span:23},style:{paddingBottom:300},children:g(A,{title:g(u.Fragment,{children:[g("span",{children:[m(z,{}),"  "," TRANSACTIONS"]}),m("br",{}),this.props.isMobile&&m("div",{style:{marginTop:8},children:e})]}),children:[m(B,{rowKey:e=>e.id,pagination:{defaultPageSize:5,hideOnSinglePage:!0,showSizeChanger:!0},columns:[{title:"TID",dataIndex:"_id",render:(e,{transactionId:t})=>t.slice(-6)},{title:"BY",dataIndex:"_id",render:(e,{user:t})=>t.username,responsive:["lg","md"]},{title:"Amount",dataIndex:"amount"},{title:"Status",dataIndex:"status",render:(e,{status:t})=>{let a;return console.log(t,"statuse"),a="PENDING"===t?"volcano":"green",m(j,{color:a,children:t.toUpperCase()},t)}},{title:"Profit",dataIndex:"profit",render:(e,{profit:t})=>t.toFixed(2)},{title:"CREATED AT",dataIndex:"createdAt",render:e=>m(T,{children:_(e).tz("Africa/Kampala").format("MMMM Do, h:mm a")}),responsive:["lg","md"]},{title:"ACTION",dataIndex:"actions",render:(e,t)=>g("span",{children:[m(q,{title:"Sure to delete?",onConfirm:()=>this.deletePathData({path:`/transactions/${t._id}`}).then((()=>c.success("The transaction has been deleted"))),children:m(f,{type:"primary",danger:!0,shape:"circle",style:{marginLeft:"10px"},icon:m($,{})})}),m(f,{type:"primary",shape:"circle",style:{marginLeft:"10px"},icon:m(V,{}),onClick:()=>{console.log(t),this.updatePathData({path:`/transactions/${t._id}`,data:{status:"SUCCESS",confirmedAt:new Date}}).then((()=>{c.success("The transaction has been approved"),c.success("Status will be updated on page reload",5)})).catch((e=>{c.error(e.message)}))}})]})}],dataSource:this.state.transactions,size:"small"}),m(Ke,{children:g(f,{type:"primary",style:{marginTop:"15px"},children:[m(W,{}),"ADD"]})})]})})})})}});class Be extends Te{constructor(e){super(e),this.state={isLoading:!1,old:"",new1:"",new2:""}}onChangePasswordClicked(){this.setState({isLoading:!0},(()=>{this.apiManager.changePass(this.state.old,this.state.new1,this.state.new2).then((e=>{c.success("Password changed successfully!"),this.setState({isLoading:!1})})).catch((e=>{c.error(e.message),this.setState({isLoading:!1})}))}))}render(){return this.state.isLoading?m(Ue,{}):g(F,{layout:"vertical",children:[m(F.Item,{label:"OLD PASSWORD",children:m(y.Password,{size:"large",onChange:e=>this.setState({old:e.target.value})})}),m(F.Item,{label:"NEW PASSWORD",children:m(y.Password,{size:"large",onChange:e=>this.setState({new1:e.target.value})})}),m(F.Item,{label:"CONFIRM NEW PASSWORD",children:m(y.Password,{size:"large",onChange:e=>this.setState({new2:e.target.value})})}),m(D,{justify:"end",children:m(f,{block:this.props.isMobile,onClick:()=>this.onChangePasswordClicked(),type:"primary",children:"CHANGE"})})]})}}var je=k((function(e){return{isMobile:e.globalReducer.isMobile,isAdmin:De.isAdmin()}}),void 0)(class extends Te{render(){return m("div",{children:m(D,{justify:"center",gutter:20,children:this.props.isAdmin&&m(P,{style:{marginBottom:20},lg:{span:10},xs:{span:23},children:m(A,{style:{height:"100%"},title:"CHANGE PASSWORD",children:m(Be,{isMobile:this.props.isMobile})})})})})}});var _e=k(void 0,{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={isLoading:!1,isModalVisible:!1,data:O(e.data,{})}}setData(e,t){this.setState({data:O(this.state.data,{[`${e}`]:t})})}add(){this.setState({isLoading:!0},(()=>{this[this.props.data?"updatePathData":"postPathData"]({path:"/auth",data:O(this.state.data)}).then((()=>{this.props.emitRootKeyChanged()})).catch((()=>{this.setState({isLoading:!1})}))}))}render(){return g(T,{children:[m(U,{title:(this.props.data?"UPDATE":"NEW")+" USER",visible:this.state.isModalVisible,onOk:this.add.bind(this),onCancel:()=>this.setState({isModalVisible:!1}),okButtonProps:{disabled:this.state.isLoading},cancelButtonProps:{disabled:this.state.isLoading},okText:this.props.data?"UPDATE":"ADD",children:this.state.isLoading?m(Ue,{}):g(F,{layout:"vertical",children:[m(F.Item,{label:"USERNAME2",required:!this.props.data,children:m(y,{type:"text",placeholder:"Username",name:"username",size:"large",value:this.state.data.username,onChange:e=>this.setData("username",e.target.value)})}),m(F.Item,{label:"PASSWORD",required:!this.props.data,children:m(y.Password,{placeholder:"Password",name:"password",size:"large",value:this.state.data.password,onChange:e=>this.setData("password",e.target.value)})}),m(F.Item,{label:"ROLES",children:m(K,{onChange:e=>{this.setData("roles",e)},value:this.state.data.roles,size:"large",mode:"multiple",placeholder:"Roles",children:["ADMIN"].map(((e,t)=>m(K.Option,{value:e,children:e},t)))})})]})}),u.cloneElement(this.props.children,{onClick:()=>this.setState({isModalVisible:!0})})]})}});var qe=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:void 0,isLoading:!1}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.username)}reFetchData(){this.setState({isLoading:!0},(()=>{this.getPathData({path:"/browse/staff"}).then((({items:e})=>{this.setState({isLoading:!1,apiData:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData()}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const e=this.state.apiData.filter((e=>!this.state.searchTerm||this.onSearchUser(this.state.searchTerm,e))),t=m(y,{placeholder:"Search",type:"text",onChange:e=>this.setState({searchTerm:(e.target.value||"").trim()})});return m(D,{justify:"center",children:m(P,{xs:{span:23},lg:{span:16},style:{paddingBottom:300},children:g(A,{extra:!this.props.isMobile&&t,title:g(u.Fragment,{children:[g("span",{children:[m(H,{}),"  ","STAFF"]}),m("br",{}),this.props.isMobile&&m("div",{style:{marginTop:8},children:t})]}),children:[m(B,{rowKey:"username",pagination:{defaultPageSize:5,hideOnSinglePage:!0,showSizeChanger:!1},columns:[{title:"USERNAME",dataIndex:"username",sorter:(e,t)=>e.username.localeCompare(t.username),defaultSortOrder:"descend",sortDirections:["descend","ascend"]},{title:"ROLES",dataIndex:"roles",render:e=>m(T,{children:e.join(",")})},{title:"ACTIONS",dataIndex:"actions",render:(e,t)=>g("span",{children:[m(_e,{data:t,children:m(f,{shape:"circle",type:"primary",children:m(G,{})})}),m(q,{title:"Sure to delete?",onConfirm:()=>this.deletePathData({path:`/auth/${t.id}`}).then((()=>this.props.emitRootKeyChanged())),children:m(f,{type:"primary",danger:!0,shape:"circle",style:{marginLeft:"10px"},icon:m($,{})})})]})}],dataSource:e,size:"small"}),m(_e,{children:g(f,{type:"primary",style:{marginTop:"15px"},children:[m(Y,{}),"ADD"]})})]})})})}});var $e=k(void 0,{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={transactions:!1,isModalVisible:!1,data:O(e.data,{})}}setData(e,t){this.setState({data:O(this.state.data,{[`${e}`]:t})})}add(){this.setState({isLoading:!0},(()=>{this[this.props.data?"updatePathData":"postPathData"]({path:"/expenses",data:O(this.state.data)}).then((()=>{this.props.emitRootKeyChanged()})).catch((()=>{this.setState({isLoading:!1})}))}))}render(){return g(T,{children:[m(U,{title:(this.props.data?"UPDATE":"NEW")+" TRANSACTION",visible:this.state.isModalVisible,onOk:this.add.bind(this),onCancel:()=>this.setState({isModalVisible:!1}),okButtonProps:{disabled:this.state.isLoading},cancelButtonProps:{disabled:this.state.isLoading},okText:this.props.data?"UPDATE":"ADD",children:this.state.isLoading?m(Ue,{}):g(F,{layout:"vertical",children:[m(F.Item,{label:"Expense",required:!this.props.data,children:m(y,{type:"text",placeholder:"Expense",name:"amount",size:"large",value:this.state.data.expense,onChange:e=>this.setData("expense",e.target.value),autoFocus:!0})}),m(F.Item,{label:"AMOUNT",required:!this.props.data,children:m(y,{type:"number",placeholder:"Amount",name:"amount",size:"large",value:this.state.data.amount,onChange:e=>this.setData("amount",e.target.value)})})]})}),u.cloneElement(this.props.children,{onClick:()=>this.setState({isModalVisible:!0})})]})}});var Ve=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:void 0,isLoading:!1,confirmOrder:!1,expenses:void 0}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.type)}reFetchData(e){this.setState({isLoading:e},(()=>{this.getPathData({path:"/browse/expenses"}).then((({items:e})=>{console.log(e,"expenses"),e.filter((e=>"successful"===e.payment)),e.filter((e=>"successful"!==e.payment)),this.setState({isLoading:!1,apiData:e,expenses:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData(!0)}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const e=m(y,{placeholder:"Search",type:"text",onChange:e=>this.setState({searchTerm:(e.target.value||"").trim()})});return m("div",{children:m(D,{justify:"center",children:m(P,{xs:{span:23},lg:{span:23},style:{paddingBottom:300},children:g(A,{title:g(u.Fragment,{children:[g("span",{children:[m(z,{}),"  "," EXPENSES"]}),m("br",{}),this.props.isMobile&&m("div",{style:{marginTop:8},children:e})]}),children:[m(B,{rowKey:e=>e.id,pagination:{defaultPageSize:5,hideOnSinglePage:!0,showSizeChanger:!0},columns:[{title:"BY",dataIndex:"_id",render:(e,{user:t})=>t.username},{title:"Amount",dataIndex:"amount"},{title:"EXPENSE",dataIndex:"expense"},{title:"CREATED AT",dataIndex:"createdAt",render:e=>m(T,{children:_(e).tz("Africa/Kampala").format("MMMM Do, h:mm a")}),responsive:["lg","md"]},{title:"ACTION",dataIndex:"actions",render:(e,t)=>m("span",{children:m(q,{title:"Sure to delete?",onConfirm:()=>this.deletePathData({path:`/expenses/${t._id}`}).then((()=>this.props.emitRootKeyChanged())),children:m(f,{type:"primary",danger:!0,shape:"circle",style:{marginLeft:"10px"},icon:m($,{})})})})}],dataSource:this.state.expenses,size:"small"}),m($e,{children:g(f,{type:"primary",style:{marginTop:"15px"},children:[m(W,{}),"ADD"]})})]})})})})}});var We=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:void 0,isLoading:!1,confirmOrder:!1,transactions:void 0,startDate:void 0,endDate:void 0,dates:[]}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.type)}reFetchData(e){this.setState({isLoading:e},(()=>{this.getPathData({path:"/browsequery/transactions",query:{startDate:this.state.startDate,endDate:this.state.endDate}}).then((({items:e})=>{console.log(e,"transactions"),this.setState({isLoading:!1,apiData:e,transactions:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData(!0)}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const{RangePicker:e}=J;return m("div",{children:m(D,{justify:"center",children:g(P,{xs:{span:23},lg:{span:23},style:{paddingBottom:300},children:[m(e,{onCalendarChange:(e,t)=>{console.log(t),t[0]&&this.setState({startDate:t[0]}),t[1]&&this.setState({endDate:t[1]})}})," ",m(f,{color:"primary",onClick:()=>{this.state.startDate&&this.state.endDate&&this.reFetchData(!0)},children:"Search"}),m(A,{children:m(B,{rowKey:e=>e.id,pagination:{defaultPageSize:5,hideOnSinglePage:!0,showSizeChanger:!0},columns:[{title:"TID",dataIndex:"_id",render:(e,{transactionId:t})=>t.slice(-6)},{title:"BY",dataIndex:"_id",render:(e,{user:t})=>t.username,responsive:["lg","md"]},{title:"Amount",dataIndex:"amount"},{title:"Status",dataIndex:"status",render:(e,{status:t})=>{let a;return console.log(t,"statuse"),a="PENDING"===t?"volcano":"green",m(j,{color:a,children:t.toUpperCase()},t)}},{title:"Profit",dataIndex:"profit",render:(e,{profit:t})=>t.toFixed(2)},{title:"CREATED AT",dataIndex:"createdAt",render:e=>m(T,{children:_(e).tz("Africa/Kampala").format("MMMM Do, h:mm a")}),responsive:["lg","md"]},{title:"ACTION",dataIndex:"actions",render:(e,t)=>g("span",{children:[m(q,{title:"Sure to delete?",onConfirm:()=>this.deletePathData({path:`/transactions/${t._id}`}).then((()=>c.success("The transaction has been deleted"))),children:m(f,{type:"primary",danger:!0,shape:"circle",style:{marginLeft:"10px"},icon:m($,{})})}),m(f,{type:"primary",shape:"circle",style:{marginLeft:"10px"},icon:m(V,{})})]})}],dataSource:this.state.transactions,size:"small"})})]})})})}});var He=k(void 0,{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={isLoading:!1,isModalVisible:!1,data:O(e.data,{voda:!1})}}setData(e,t){this.setState({data:O(this.state.data,{[`${e}`]:t})})}add(){this.setState({isLoading:!0},(()=>{this[this.props.data?"updatePathData":"postPathData"]({path:"/tempcash",data:O(this.state.data)}).then((e=>{console.log(e,"transactions"),this.props.emitRootKeyChanged()})).catch((e=>{console.log(e),c.error("this is an error"),this.setState({isLoading:!1})}))}))}render(){return g(T,{children:[m(U,{title:(this.props.data?"UPDATE":"NEW")+" TRANSACTION",visible:this.state.isModalVisible,onOk:this.add.bind(this),onCancel:()=>this.setState({isModalVisible:!1}),okButtonProps:{disabled:this.state.isLoading},cancelButtonProps:{disabled:this.state.isLoading},okText:this.props.data?"UPDATE":"ADD",children:this.state.isLoading?m(Ue,{}):g(F,{layout:"vertical",children:[m(F.Item,{label:"NAME",required:!this.props.data,children:m(y,{type:"text",placeholder:"NAME",name:"amount",size:"large",value:this.state.data.name,onChange:e=>this.setData("name",e.target.value),autoFocus:!0})}),m(F.Item,{label:"AMOUNT",required:!this.props.data,children:m(y,{type:"number",placeholder:"Amount",name:"amount",size:"large",value:this.state.data.amount,onChange:e=>this.setData("amount",e.target.value)})}),m(F.Item,{label:"VODA",children:m(K,{onChange:e=>{"Yes"==e&&this.setData("voda",!0)},value:this.state.data.roles,size:"large",placeholder:"Is this transaction from bunya?",children:["Yes","No"].map(((e,t)=>m(K.Option,{value:e,children:e},t)))})})]})}),u.cloneElement(this.props.children,{onClick:()=>this.setState({isModalVisible:!0})})]})}});var Ge=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:void 0,isLoading:!1,confirmOrder:!1,tempcash:void 0}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.type)}reFetchData(e){this.setState({isLoading:e},(()=>{this.getPathData({path:"/browse/tempcash"}).then((({items:e})=>{console.log(e,"tempcash"),e.filter((e=>"successful"===e.payment)),e.filter((e=>"successful"!==e.payment)),this.setState({isLoading:!1,apiData:e,tempcash:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData(!0)}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const e=m(y,{placeholder:"Search",type:"text",onChange:e=>this.setState({searchTerm:(e.target.value||"").trim()})});return m("div",{children:m(D,{justify:"center",children:m(P,{xs:{span:23},lg:{span:23},style:{paddingBottom:300},children:g(A,{title:g(u.Fragment,{children:[g("span",{children:[m(z,{}),"  "," TEMPORARY CASH"]}),m("br",{}),this.props.isMobile&&m("div",{style:{marginTop:8},children:e})]}),children:[m(B,{rowKey:e=>e.id,pagination:{defaultPageSize:5,hideOnSinglePage:!0,showSizeChanger:!0},columns:[{title:"NAME",dataIndex:"name"},{title:"BY",dataIndex:"_id",render:(e,{user:t})=>t.username,responsive:["lg","md"]},{title:"Amount",dataIndex:"amount"},{title:"Status",dataIndex:"status",render:(e,{status:t})=>{let a;return console.log(t,"statuse"),a="PENDING"===t?"volcano":"green",m(j,{color:a,children:t.toUpperCase()},t)}},{title:"ACTION",dataIndex:"actions",render:(e,t)=>g("span",{children:[m(q,{title:"Sure to delete?",onConfirm:()=>this.deletePathData({path:`/tempcash/${t._id}`}).then((()=>c.success("The transaction has been deleted"))),children:m(f,{type:"primary",danger:!0,shape:"circle",style:{marginLeft:"10px"},icon:m($,{})})}),m(f,{type:"primary",shape:"circle",style:{marginLeft:"10px"},icon:m(V,{}),onClick:()=>{console.log(t),this.updatePathData({path:`/tempcash/${t._id}`,data:{status:"SUCCESS",confirmedAt:new Date}}).then((()=>{c.success("The transaction has been approved"),c.success("Status will be updated on page reload",5)})).catch((e=>{c.error(e.message)}))}})]})}],dataSource:this.state.tempcash,size:"small"}),m(He,{children:g(f,{type:"primary",style:{marginTop:"15px"},children:[m(W,{}),"ADD"]})})]})})})})}});var Ye=k(void 0,{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={isLoading:!1,isModalVisible:!1,data:O(e.data,{voda:!1})}}setData(e,t){this.setState({data:O(this.state.data,{[`${e}`]:t})})}add(){this.setState({isLoading:!0},(()=>{this[this.props.data?"updatePathData":"postPathData"]({path:"/debts",data:O(this.state.data)}).then((e=>{console.log(e,"transactions"),this.props.emitRootKeyChanged()})).catch((e=>{console.log(e),c.success("this is an error"),this.setState({isLoading:!1})}))}))}render(){return g(T,{children:[m(U,{title:(this.props.data?"UPDATE":"NEW")+" DEDT",visible:this.state.isModalVisible,onOk:this.add.bind(this),onCancel:()=>this.setState({isModalVisible:!1}),okButtonProps:{disabled:this.state.isLoading},cancelButtonProps:{disabled:this.state.isLoading},okText:this.props.data?"UPDATE":"ADD",children:this.state.isLoading?m(Ue,{}):g(F,{layout:"vertical",children:[m(F.Item,{label:"Name",required:!this.props.data,children:m(y,{type:"text",placeholder:"Name",name:"amount",size:"large",value:this.state.data.name,onChange:e=>this.setData("name",e.target.value),autoFocus:!0})}),m(F.Item,{label:"AMOUNT",required:!this.props.data,children:m(y,{type:"number",placeholder:"Amount",name:"amount",size:"large",value:this.state.data.amount,onChange:e=>this.setData("amount",e.target.value)})})]})}),u.cloneElement(this.props.children,{onClick:()=>this.setState({isModalVisible:!0})})]})}});var Je=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:void 0,isLoading:!1,confirmOrder:!1,debts:void 0}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.type)}reFetchData(e){this.setState({isLoading:e},(()=>{this.getPathData({path:"/browse/debts"}).then((({items:e})=>{console.log(e,"debts"),e.filter((e=>"successful"===e.payment)),e.filter((e=>"successful"!==e.payment)),this.setState({isLoading:!1,apiData:e,debts:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData(!0)}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const e=m(y,{placeholder:"Search",type:"text",onChange:e=>this.setState({searchTerm:(e.target.value||"").trim()})});return m("div",{children:m(D,{justify:"center",children:m(P,{xs:{span:23},lg:{span:23},style:{paddingBottom:300},children:g(A,{title:g(u.Fragment,{children:[g("span",{children:[m(z,{}),"  "," TRANSACTIONS"]}),m("br",{}),this.props.isMobile&&m("div",{style:{marginTop:8},children:e})]}),children:[m(B,{rowKey:e=>e.id,pagination:{defaultPageSize:5,hideOnSinglePage:!0,showSizeChanger:!0},columns:[{title:"Name",dataIndex:"name"},{title:"BY",dataIndex:"_id",render:(e,{user:t})=>t.username,responsive:["lg","md"]},{title:"Amount",dataIndex:"amount"},{title:"Status",dataIndex:"status",render:(e,{status:t})=>{let a;return console.log(t,"statuse"),a="PENDING"===t?"volcano":"green",m(j,{color:a,children:t.toUpperCase()},t)}},{title:"ACTION",dataIndex:"actions",render:(e,t)=>g("span",{children:[m(q,{title:"Sure to delete?",onConfirm:()=>this.deletePathData({path:`/debts/${t._id}`}).then((()=>c.success("The transaction has been deleted"))),children:m(f,{type:"primary",danger:!0,shape:"circle",style:{marginLeft:"10px"},icon:m($,{})})}),m(f,{type:"primary",shape:"circle",style:{marginLeft:"10px"},icon:m(V,{}),onClick:()=>{console.log(t),this.updatePathData({path:`/debts/${t._id}`,data:{status:"SUCCESS"}}).then((()=>{c.success("The transaction has been approved"),c.success("Status will be updated on page reload",5)})).catch((e=>{c.error(e.message)}))}})]})}],dataSource:this.state.debts,size:"small"}),m(Ye,{children:g(f,{type:"primary",style:{marginTop:"15px"},children:[m(W,{}),"ADD"]})})]})})})})}});class Ze extends p.exports.Component{constructor(e){super(e)}render(){return g("div",{className:"site-card-border-less-wrapper",children:[m("p",{children:"Result:"}),m("p",{children:this.props.result.result})]})}}var Xe=k((function(e){return{isMobile:e.globalReducer.isMobile}}),{emitRootKeyChanged:Ie})(class extends Te{constructor(e){super(e),this.state={searchTerm:"",apiData:0,isLoading:!1,confirmOrder:!1,transactions:void 0,mtn:void 0,airtel:void 0,bunya:void 0,cash:void 0,startDate:void 0,endDate:void 0,showResult:!1}}onSearchUser(e,t){return new RegExp(e,"ig").test(t.type)}reFetchData(e){this.setState({isLoading:e},(()=>{this.getPathData({path:"/browse/transactions"}).then((({items:e})=>{console.log(e,"transactions"),e.filter((e=>"successful"===e.payment)),e.filter((e=>"successful"!==e.payment)),this.setState({isLoading:!1,apiData:e,transactions:e})})).catch((()=>this.setState({isLoading:!1})))}))}componentDidMount(){this.reFetchData(!0)}add(){const{mtn:e,airtel:t,bunya:a,cash:s,startDate:i,endDate:n}=this.state;this.setState({isLoading:!0},(()=>{this.postPathData({path:"/calculations",data:{mtn:e,airtel:t,bunya:a,cash:s,startDate:i,endDate:n}}).then((e=>{console.log(e,"cals"),this.setState({apiData:e}),this.setState({showResult:!0}),this.setState({isLoading:!1})})).catch((e=>{console.log(e),c.success("this is an error"),this.setState({isLoading:!1})}))}))}render(){if(this.state.isLoading)return m(Ue,{});if(!this.state.apiData)return m(Fe,{reloadCallBack:this.reFetchData.bind(this)});const e=m(y,{placeholder:"Search",type:"text",onChange:e=>this.setState({searchTerm:(e.target.value||"").trim()})});return m("div",{children:m(D,{justify:"center",children:g(P,{xs:{span:23},lg:{span:23},style:{paddingBottom:300},children:[" ",this.state.showResult?m(A,{title:g(u.Fragment,{children:[g("span",{children:[m(z,{}),"  "," RESULT"]}),m("br",{})]}),children:m(D,{justify:"center",children:m(Ze,{result:this.state.apiData})})}):g(A,{title:g(u.Fragment,{children:[g("span",{children:[m(z,{}),"  "," CALCULATIONS"]}),m("br",{}),this.props.isMobile&&m("div",{style:{marginTop:8},children:e})]}),children:[g(F,{layout:"vertical",children:[g(D,{justify:"center",children:[m(P,{style:{paddingRight:10},children:m(F.Item,{label:"MTN",children:m(y,{type:"number",placeholder:"MTN",name:"mtn",size:"large",value:this.state.mtn,onChange:e=>this.setState({mtn:Number(e.target.value)}),autoFocus:!0})})}),m(P,{style:{paddingRight:10},children:m(F.Item,{label:"AIRTEL",children:m(y,{type:"number",placeholder:"Airtel",name:"airtel",size:"large",value:this.state.airtel,onChange:e=>this.setState({airtel:Number(e.target.value)}),autoFocus:!0})})})]}),g(D,{justify:"center",children:[m(P,{style:{paddingRight:10},children:m(F.Item,{label:"BUNYA",children:m(y,{type:"number",placeholder:"Bunya",name:"bunya",size:"large",value:this.state.bunya,onChange:e=>this.setState({bunya:Number(e.target.value)}),autoFocus:!0})})}),m(P,{style:{paddingRight:10},children:m(F.Item,{label:"CASH",labelAlign:"left",children:m(y,{type:"number",placeholder:"Cash",name:"airtel",size:"large",value:this.state.cash,onChange:e=>this.setState({cash:Number(e.target.value)}),autoFocus:!0})})})]})]}),g(f,{type:"primary",style:{marginTop:"15px"},onClick:this.add.bind(this),children:[m(W,{}),"Calculate"]})]})]})})})}});const{Header:Qe,Content:et,Sider:tt}=te;var at=k((function(e){return{rootElementKey:e.globalReducer.rootElementKey,isMobile:e.globalReducer.isMobile,isAdmin:De.isAdmin()}}),{emitSizeChanged:function(){return{type:"SIZE_CHANGED",payload:{}}}})(class extends Te{constructor(e){super(e),d(this,"mainContainer"),d(this,"updateDimensions",(()=>this.props.emitSizeChanged())),d(this,"toggleSider",(()=>{De.setSiderCollapsedStateInLocalStorage(!this.state.collapsed),this.setState({collapsed:!this.state.collapsed})})),this.mainContainer=u.createRef(),this.state={collapsed:!1,me:{}}}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this.updateDimensions(),window.removeEventListener("resize",this.updateDimensions)}componentDidUpdate(e){this.props.location.pathname!==e.location.pathname&&this.props.isMobile&&this.setState({collapsed:!0})}componentDidMount(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions),ve.isLoggedIn()?this.setState({collapsed:De.getSiderCollapsedStateFromLocalStorage()}):this.goToLogin()}goToLogin(){this.props.history.push("/login")}logout(){this.apiManager.setAuthToken(""),De.setAdmin(!1),this.goToLogin()}createUpdateAvailableIfNeeded(){const e=this;return m(p.exports.Fragment,{children:m(Ee,{onLinkClicked:()=>e.props.history.push("/settings")})})}render(){const e=this,t=[...this.props.isAdmin?[{key:"dashboard",name:"Dashboard",icon:m(Z,{})},{key:"transactions",name:"TRANSACTIONS",icon:m(X,{})},{key:"expenses",name:"Expenses",icon:m(Q,{})},{key:"debts",name:"Debts",icon:m(Q,{})},{key:"tempcash",name:"Tempcash",icon:m(Q,{})},{key:"calculations",name:"Calculations",icon:m(Q,{})},{key:"allTransactions",name:"ALL",icon:m(Y,{})},{key:"staff",name:"STAFF",icon:m(Y,{})}]:[{key:"transactions",name:"Transactions",icon:m(z,{})}],{key:"settings",name:"SETTINGS",icon:m(ee,{})}];return g(te,{className:"full-screen",children:[m(Qe,{className:"header",style:{padding:`0 ${this.props.isMobile?15:50}px`},children:m("div",{children:g(D,{children:[this.props.isMobile&&m(P,{span:4,children:m(f,{ghost:!0,icon:m(ae,{}),onClick:this.toggleSider})}),m(P,{lg:{span:12},xs:{span:20},children:m("div",{children:g("h3",{style:{color:"#fff"},children:[m("img",{alt:"logo",src:"/icon.png",style:{height:35,width:35,marginRight:10}}),"KAFUNDI FINANCIAL SERVICES"]})})}),!e.props.isMobile&&m(P,{span:12,children:g(D,{justify:"end",children:[m("span",{style:{marginRight:70},children:m(Ne,{})}),m("span",{children:m("span",{style:{border:"1px solid #1b8ad3",borderRadius:5,padding:8},children:g(Ee,{onLinkClicked:this.logout.bind(this),children:["LOGOUT "," ",m(se,{})]})})})]})})]})})}),g(te,{children:[m(tt,{breakpoint:"lg",trigger:this.props.isMobile&&void 0,collapsible:!0,collapsed:this.state.collapsed,width:200,collapsedWidth:e.props.isMobile?0:80,style:{zIndex:2},onCollapse:this.toggleSider,children:g(ie,{selectedKeys:[this.props.location.pathname.substring(1)],theme:"dark",mode:"inline",defaultSelectedKeys:["users"],style:{height:"100%",borderRight:0},children:[t.map((e=>{var t;return(null==(t=e.subitems)?void 0:t.length)?m(ie.SubMenu,{icon:e.icon,title:e.name,children:e.subitems.map((e=>m(ie.Item,{children:m(ne,{to:`/${e.key}`,className:"nav-text",children:e.name})},e.key)))},e.key):m(ie.Item,{children:g(ne,{to:`/${e.key}`,className:"nav-text",children:[e.icon,m("span",{children:e.name})]})},e.key)})),this.props.isMobile&&g(p.exports.Fragment,{children:[m("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.65)",height:1,width:"80%",margin:"15px auto"}}),m("div",{className:"ant-menu-item",role:"menuitem",style:{paddingLeft:24},children:g(Ee,{onLinkClicked:this.logout.bind(this),children:[m(se,{}),"LOGOUT"]})})]})]})}),m(et,{children:m("div",{ref:e.mainContainer,style:{paddingTop:12,paddingBottom:0,height:"100%",overflowY:"scroll",marginRight:e.state.collapsed?0:e.props.isMobile?-200:0,transition:"margin-right 0.3s ease"},id:"main-content-layout",children:g(re,{children:[m(oe,{path:"/dashboard/",component:we}),m(oe,{path:"/staff/",component:qe}),m(oe,{path:"/expenses",component:Ve}),m(oe,{path:"/transactions",component:ze}),m(oe,{path:"/allTransactions",component:We}),m(oe,{path:"/settings/",component:je}),m(oe,{path:"/tempcash/",component:Ge}),m(oe,{path:"/debts/",component:Je}),m(oe,{path:"/calculations/",component:Xe}),m(oe,{path:"/",component:Oe})]})},e.props.rootElementKey)})]})]})}});const st={isAdmin:De.isAdmin(),isMobile:Ce.isMobile()};const it=le({globalReducer:function(e=st,t){switch(t.type){case"ROOT_KEY_CHANGED":return l(o({},e),{rootElementKey:Ce.generateUuidV4()});case"SIZE_CHANGED":return l(o({},e),{isMobile:Ce.isMobile()});default:return e}}}),nt=de(ce)(he)(it);class rt extends p.exports.Component{constructor(e){super(e),this.state={themeLoaded:!1};const t=De.getDarkModeFromLocalStorage();ke.loadTheme(t).then((()=>{this.setState({themeLoaded:!0})}))}render(){const{themeLoaded:e}=this.state;return e?m(pe,{store:nt,children:m("div",{className:"full-screen",children:m(ue,{children:g(re,{children:[m(oe,{path:"/login/",component:Pe}),m(oe,{path:"/",component:at})]})})})}):m("div",{})}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),ge.render(m(rt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}));
